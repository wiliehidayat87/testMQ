version: "3.3"

services:
  listener-service:
    image: "wiliehidayat87/testmq-publisher:latest"
    deploy:
      mode: global
      restart_policy:
        condition: on-failure
    ports:
      - 9022:9022
    extra_hosts:
      - "host.docker.internal:host-gateway"
    env_file:
      - .env
    volumes:
      - /Users/wiliewahyuhidayat/Documents/GO/testMQ/logs:/Users/wiliewahyuhidayat/Documents/GO/testMQ/logs
    logging:
      driver: "json-file"
      options:
        max-size: "200k"
        max-file: "10"